<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='author' content='Devine Lu Linvega'>
  <meta name='description' content='The Nataniev Library.'/>
  <meta name='keywords' content='Aliceffekt, Traumae, Devine Lu Linvega, Lietal, Oquonie, Verreciel, Nataniev, Oscean, Solarpunk' />
  <meta name='license' content='name=BY-NC-SA(4.0), url=https://creativecommons.org/licenses/by-nc-sa/4.0/'/>
  <meta name='thumbnail' content='https://wiki.xxiivv.com/media/services/thumbnail.jpg' />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name='twitter:card' content='summary'>
  <meta name='twitter:site' content='@neauoire'>
  <meta name='twitter:title' content='The Nataniev Library'>
  <meta name='twitter:description' content='The digital playground and documentation for the projects of Devine Lu Linvega.'>
  <meta name='twitter:creator' content='@neauoire'>
  <meta name='twitter:image' content='https://wiki.xxiivv.com/media/services/rss.jpg'>
  <meta property='og:title' content='The Nataniev Library' />
  <meta property='og:type' content='article' />
  <meta property='og:url' content='http://wiki.xxiivv.com/' />
  <meta property='og:image' content='https://wiki.xxiivv.com/media/services/rss.jpg' />
  <meta property='og:description' content='The digital playground and documentation for the projects of Devine Lu Linvega.' /> 
  <meta property='og:site_name' content='XXIIVV' />
  <script>const module = { exports: null }</script>
  <script>const database = {}</script>
  <script type='text/javascript' src='scripts/lib/helpers.js'></script>
  <script type='text/javascript' src='scripts/lib/neralie.js'></script>
  <script type='text/javascript' src='scripts/lib/arvelie.js'></script>
  <script type='text/javascript' src='scripts/lib/runic.js'></script>
  <script type='text/javascript' src='scripts/lib/indental.js'></script>
  <script type='text/javascript' src='scripts/lib/tablatal.js'></script>
  <script type='text/javascript' src='scripts/database/lexicon.ndtl'></script>
  <script type='text/javascript' src='scripts/database/issues.ndtl'></script>
  <script type='text/javascript' src='scripts/database/horaire.tbtl'></script>
  <script type='text/javascript' src='scripts/database/asulodeta.tbtl'></script>
  <script type='text/javascript' src='scripts/database/glossary.ndtl'></script>
  <script type='text/javascript' src='scripts/types/entry.js'></script>
  <script type='text/javascript' src='scripts/types/term.js'></script>
  <script type='text/javascript' src='scripts/types/list.js'></script>
  <script type='text/javascript' src='scripts/types/log.js'></script>
  <script type='text/javascript' src='scripts/types/issue.js'></script>
  <script type='text/javascript' src='scripts/lisp.js'></script>
  <script type='text/javascript' src='scripts/lisp.library.js'></script>
  <script type='text/javascript' src='scripts/lisp/prelude.lisp'></script>
  <script type='text/javascript' src='scripts/lisp/graph.lisp'></script>
  <script type='text/javascript' src='scripts/lisp/template.lisp'></script>
  <link rel='stylesheet' type='text/css' href='links/fonts.css'/>
  <link rel='stylesheet' type='text/css' href='links/main.css'/>
  <link rel='alternate'  type='application/rss+xml' title='Feed' href='links/rss.xml' />
  <title>Oscean</title>
</head>
<body>
  <script>
    const BINDINGS = {}
    const lisp = new Lisp(new Library())

    lisp.run(prelude+graph+template)

    const detectBackOrForward = function (onBack, onForward) {
      let hashHistory = [window.location.hash]
      let historyLength = window.history.length

      return function () {
        let hash = window.location.hash; let length = window.history.length
        if (hashHistory.length && historyLength === length) {
          if (hashHistory[hashHistory.length - 2] === hash) {
            hashHistory = hashHistory.slice(0, -1)
            onBack()
          } else {
            hashHistory.push(hash)
            onForward()
          }
        } else {
          hashHistory.push(hash)
          historyLength = length
        }
      }
    }

    window.addEventListener('hashchange', detectBackOrForward(
      function () { console.log('!') },
      function () { console.log('?') }
    ))

    window.addEventListener('load', (e) => { 
      BINDINGS.load(e) 
    })

    window.addEventListener('click', (e) => { 
      if (e.button || e.which === 3 || e.button === 2) { return }
      const inTab = e.ctrlKey || e.shiftKey || e.metaKey
      const el = e.target.getAttribute('data-goto') ? e.target : e.target.parentNode.getAttribute('data-goto') ? e.target.parentNode : null
      if (!el || el.className === 'external' || inTab) { return }
      const target = el.getAttribute('data-goto')
      BINDINGS.click(target.replace(/\+/g,' ')) 
      e.preventDefault()
    })

  </script>
  <noscript>
    Go to <a href='static.txt' target='_blank'>/static.txt</a><br />
  </noscript>
</body>
</html>
